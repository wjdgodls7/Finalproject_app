{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\GG\\\\Documents\\\\finalproject\\\\semicolon-app\\\\components\\\\EditProfile.js\";\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteralLoose([\"\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteralLoose([\"\\n    mutation editUser(\\n        $username:String\\n        $email:String\\n         $firstName:String\\n        $lastName:String\\n        $bio:String\\n    )\\n    {editUser(\\n    username : $username\\n    email : $email\\n    firstName : $firstName\\n    lastName : $lastName\\n    bio : $bio\\n    )\\n  }\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteralLoose([\"\\nmargin-top: 15px\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  justify-content: center;\\n  align-items: center;\\n  flex: 1;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport { useMutation } from \"react-apollo-hooks\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport styled from \"styled-components\";\nimport AuthButton from \"../components/AuthButton\";\nimport useInput from \"../hooks/useInput\";\nimport AuthInput from \"./AuthInput\";\nimport { gql } from 'apollo-boost';\nimport { ME } from \"../screens/tabs/Profile\";\nimport { FEED_QUERY } from \"../screens/home/Home\";\nvar View = styled.View(_templateObject());\nvar Enter = styled.View(_templateObject2());\nvar EDIT_USER = gql(_templateObject3());\nvar Profile = styled.TouchableOpacity(_templateObject4());\nexport default (function (_ref) {\n  var userInfo = _ref.userInfo,\n      setUserInfo = _ref.setUserInfo,\n      setEditProfile = _ref.setEditProfile,\n      userAvatar = _ref.userAvatar,\n      navigation = _ref.navigation;\n  var username = useInput(userInfo.username);\n  var firstName = useInput(userInfo.firstName);\n  var lastName = useInput(userInfo.lastName);\n  var bio = useInput(userInfo.bio);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var goUpload = function goUpload() {\n    return navigation.navigate(\"UploadNavigation\", {\n      profile: \"upload\"\n    });\n  };\n\n  var _useMutation = useMutation(EDIT_USER, {\n    variables: {\n      username: username.value,\n      firstName: firstName.value,\n      lastName: lastName.value,\n      bio: bio.value\n    },\n    refetchQueries: [{\n      query: ME,\n      query: FEED_QUERY\n    }]\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      editUserMutation = _useMutation2[0];\n\n  var onSubmit = function onSubmit(e) {\n    var _await$editUserMutati, data;\n\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n            setLoading(true);\n            setUserInfo({\n              username: username.value,\n              firstName: firstName.value,\n              lastName: lastName.value,\n              bio: bio.value\n            });\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(editUserMutation());\n\n          case 5:\n            _await$editUserMutati = _context.sent;\n            data = _await$editUserMutati.data;\n            setLoading(false);\n            setEditProfile(false);\n            console.log(data);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, React.createElement(Profile, {\n    onPress: goUpload,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    style: {\n      height: 90,\n      width: 90,\n      borderRadius: 50,\n      marginTop: 30\n    },\n    source: {\n      uri: userAvatar\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  })), React.createElement(Text, {\n    style: {\n      marginBottom: 40\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, userInfo.username)), React.createElement(TouchableWithoutFeedback, {\n    onPress: Keyboard.dismiss,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, React.createElement(AuthInput, _extends({}, username, {\n    placeholder: \"\\uB2C9\\uB124\\uC784\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  })), React.createElement(AuthInput, _extends({}, firstName, {\n    placeholder: \"\\uC774\\uB984\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  })), React.createElement(AuthInput, _extends({}, lastName, {\n    placeholder: \"\\uC131\",\n    autoCorrect: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  })), React.createElement(AuthInput, _extends({}, bio, {\n    placeholder: \"\\uC0C1\\uD0DC \\uBA54\\uC138\\uC9C0\",\n    autoCorrect: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  })), React.createElement(Enter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }), React.createElement(AuthButton, {\n    loading: loading,\n    onPress: onSubmit,\n    text: \"Submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }), React.createElement(Enter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }), React.createElement(AuthButton, {\n    loading: loading,\n    onPress: function onPress() {\n      return setEditProfile(false);\n    },\n    text: \"Back\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }))));\n});","map":{"version":3,"sources":["C:/Users/GG/Documents/finalproject/semicolon-app/components/EditProfile.js"],"names":["React","useState","useMutation","styled","AuthButton","useInput","AuthInput","gql","ME","FEED_QUERY","View","Enter","EDIT_USER","Profile","TouchableOpacity","userInfo","setUserInfo","setEditProfile","userAvatar","navigation","username","firstName","lastName","bio","loading","setLoading","goUpload","navigate","profile","variables","value","refetchQueries","query","editUserMutation","onSubmit","e","preventDefault","data","console","log","height","width","borderRadius","marginTop","uri","marginBottom","Keyboard","dismiss"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useMutation } from \"react-apollo-hooks\";\r\nimport { Image, Keyboard, Text, TouchableWithoutFeedback } from \"react-native\";\r\nimport styled from \"styled-components\";\r\nimport AuthButton from \"../components/AuthButton\";\r\nimport useInput from \"../hooks/useInput\";\r\nimport AuthInput from \"./AuthInput\";\r\nimport { gql } from 'apollo-boost';\r\nimport { ME } from \"../screens/tabs/Profile\";\r\nimport { FEED_QUERY } from \"../screens/home/Home\";\r\nconst View = styled.View`\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex: 1;\r\n`;\r\nconst Enter = styled.View`\r\nmargin-top: 15px\r\n`;\r\n\r\n\r\nconst EDIT_USER = gql`\r\n    mutation editUser(\r\n        $username:String\r\n        $email:String\r\n         $firstName:String\r\n        $lastName:String\r\n        $bio:String\r\n    )\r\n    {editUser(\r\n    username : $username\r\n    email : $email\r\n    firstName : $firstName\r\n    lastName : $lastName\r\n    bio : $bio\r\n    )\r\n  }`\r\n\r\nconst Profile = styled.TouchableOpacity`\r\n`\r\nexport default ({ userInfo, setUserInfo, setEditProfile, userAvatar, navigation }) => {\r\n    const username = useInput(userInfo.username);\r\n    const firstName = useInput(userInfo.firstName);\r\n    const lastName = useInput(userInfo.lastName);\r\n    const bio = useInput(userInfo.bio);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n\r\n    const goUpload = () => (\r\n        navigation.navigate(\"UploadNavigation\", { profile: \"upload\" })\r\n    );\r\n\r\n    const [editUserMutation] = useMutation(EDIT_USER, {\r\n        variables: {\r\n            username: username.value,\r\n            firstName: firstName.value,\r\n            lastName: lastName.value,\r\n            bio: bio.value,\r\n        }, refetchQueries: [{ query: ME, query: FEED_QUERY }]\r\n    });\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true)\r\n        setUserInfo({\r\n            username: username.value,\r\n            firstName: firstName.value,\r\n            lastName: lastName.value,\r\n            bio: bio.value,\r\n        })\r\n        const { data } = await editUserMutation();\r\n        setLoading(false)\r\n        setEditProfile(false);\r\n        console.log(data)\r\n    }\r\n    return (<>\r\n        <View>\r\n            <Profile onPress={goUpload}>\r\n                <Image\r\n                    style={{ height: 90, width: 90, borderRadius: 50, marginTop: 30 }}\r\n                    source={{ uri: userAvatar }}\r\n                />\r\n            </Profile>\r\n            <Text style={{ marginBottom: 40 }}>{userInfo.username}</Text>\r\n        </View>\r\n        <TouchableWithoutFeedback onPress={Keyboard.dismiss} >\r\n            <View>\r\n                <AuthInput\r\n                    {...username}\r\n                    placeholder=\"닉네임\"\r\n                />\r\n                <AuthInput\r\n                    {...firstName}\r\n                    placeholder=\"이름\"\r\n                />\r\n                <AuthInput\r\n                    {...lastName}\r\n                    placeholder=\"성\"\r\n                    autoCorrect={false}\r\n                />\r\n                <AuthInput\r\n                    {...bio}\r\n                    placeholder=\"상태 메세지\"\r\n                    autoCorrect={false}\r\n                />\r\n                <Enter />\r\n                <AuthButton loading={loading} onPress={onSubmit} text=\"Submit\" />\r\n                <Enter />\r\n                <AuthButton loading={loading} onPress={() => setEditProfile(false)} text=\"Back\" />\r\n            </View>\r\n        </TouchableWithoutFeedback >\r\n\r\n    </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}